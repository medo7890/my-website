<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Buy Old Telegram Group</title>
<style>
/* --------------------
   CSS Styles: Body & Background
   -------------------- */
body{
    margin:0;
    font-family:'Segoe UI',Tahoma,Verdana,sans-serif;
    background: linear-gradient(135deg, #091225 0%, #1a304e 100%); 
    display:flex;
    flex-direction: column; 
    align-items:center;
    justify-content:flex-start; 
    min-height:100vh; 
    padding: 20px 10px; 
    position: relative;
    
    /* 🔴 تصحيح مشكلة الخط الجانبي الأبيض */
    overflow-y: auto;
    overflow-x: hidden;
}

/* --------------------
   تنسيقات القائمة الجانبية وزر الفتح
   -------------------- */
.sidebar {
    position: fixed;top: 0;right: -300px;width: 280px;height: 100%;
    background-color: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); 
    box-shadow: -5px 0 15px rgba(0, 0, 0, 0.5);border-left: 1px solid rgba(255, 255, 255, 0.1);
    transition: right 0.4s ease-in-out;padding: 20px;padding-top: 60px;z-index: 100;color: #f0f4f8;
    overflow-y: auto; 
}
.sidebar.open { right: 0; }
.menu-toggle {
    position: fixed;top: 15px; right: 15px;width: 40px; height: 40px;
    background: #0088cc; border-radius: 50%;color: white; font-size: 30px; 
    line-height: 40px; text-align: center;cursor: pointer;box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
    z-index: 101;transition: background 0.3s;border: none;
    text-indent: -9999px; overflow: hidden;position: relative;
}
.menu-toggle::before {content: '\2263';text-indent: 0;position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);font-size: 28px;line-height: 1;}
.menu-toggle:hover { background: #0077c9; }

/* 🔴 تحسين تنسيق عنصر "فكرة الموقع" ليكون زرًا فخمًا */
.sidebar-item {
    margin-bottom: 20px; /* مسافة إضافية */
    padding: 14px 12px; /* حشوة أكبر */
    cursor: pointer;
    border-radius: 10px; /* حواف مستديرة أكثر */
    font-weight: 600;
    font-size: 1.15rem; /* خط أكبر */
    color: #4dc5ff; /* لون أزرق فاتح */
    
    /* مظهر الزر الفخم */
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid #0088cc; /* إطار أزرق واضح */
    box-shadow: 0 0 10px rgba(0, 136, 204, 0.5); /* توهج أزرق خفيف */

    transition: all 0.2s;
}
.sidebar-item:hover {
    background-color: rgba(255, 255, 255, 0.15); /* إضاءة عند المرور */
    box-shadow: 0 0 15px rgba(0, 136, 204, 0.8);
}

.explanation {padding: 15px;margin-top: 10px;border-radius: 8px;background-color: rgba(0, 0, 0, 0.3);font-size: 0.95rem;line-height: 1.6;color: #c7d2e4;max-height: 0;overflow: hidden;transition: max-height 0.4s ease-out, padding 0.4s;opacity: 0;}
.explanation.show {max-height: 500px;padding: 15px;opacity: 1;}

/* --------------------
   تنسيقات المحتوى الرئيسي (Container)
   -------------------- */
.container{
    z-index: 10; 
    background-color: rgba(255, 255, 255, 0.08); 
    backdrop-filter: blur(15px); 
    -webkit-backdrop-filter: blur(15px); 
    padding: 30px 15px; 
    border-radius:18px; 
    box-shadow:0 10px 40px rgba(0, 0, 0, 0.5); 
    border: 1px solid rgba(255, 255, 255, 0.1); 
    width: 95%; 
    max-width:550px; 
    text-align:right; 
    color: #f0f4f8; 
    margin-top: 60px; 
    margin-bottom: 25px; 
}
h1{text-align: center;color: #00b0e3;margin-bottom:20px;font-size: 1.8rem;font-weight: 700;text-shadow: 0 0 10px rgba(77, 197, 255, 0.4);line-height: 1.2;}
h1 span {font-size: 1.1rem;color: #aeb4b8;font-weight: 400;display: block;margin-top: 2px;}
label {text-align: right;display: block;font-weight: 600;margin: 15px 0 5px;color: #c7d2e4;font-size: 1.05rem;}
input, select, textarea {width: 100%;padding: 12px;border-radius: 10px;margin-bottom: 15px;font-size: 1rem;background-color: rgba(0, 0, 0, 0.4);color: #f0f4f8;box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.5);box-sizing: border-box;}
select {appearance: none;padding-left: 30px;}
button {background: linear-gradient(145deg, #00b0e3, #0077c9);color: #fff;border: none;padding: 16px; width: 100%;border-radius: 12px; font-size: 1.3rem; cursor: pointer;box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4); font-weight: bold;letter-spacing: 1px;}
button:hover{ background: linear-gradient(145deg, #0077c9, #00b0e3); transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5); }
button:disabled {background: #5c6770;transform: none;cursor: not-allowed;box-shadow: none;}

/* 🔴 تصحيح رسالة النجاح (إخفاء في البداية) */
#successMessage {
    color: #2ecc71;
    display: none; 
    margin-top: 15px;
    font-weight: bold;
}
#errorMessage {
    color: #e74c3c;
    display: none;
    margin-top: 15px;
    font-weight: bold;
}

.contact-footer {color: #aeb4b8;font-size: 0.9rem;padding: 10px 15px; margin-bottom: 15px; text-align: center;border-radius: 10px; background-color: rgba(0, 0, 0, 0.4); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);z-index: 10;}
.contact-footer a {color: #00b0e3;text-decoration: none;font-weight: bold;display: inline-flex;align-items: center;gap: 8px;transition: color 0.3s;}
.contact-footer a:hover {color: #79d2ff;}
.telegram-icon {width: 20px;height: 20px;background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Telegram_logo.svg/512px-Telegram_logo.svg.png');background-size: cover;display: inline-block;}
</style>
</head>
<body>

<button class="menu-toggle" id="menuToggle">☰</button>

<div class="sidebar" id="sidebar">
    <div 
        class="sidebar-item" 
        id="toggleIdea" 
        onclick="toggleExplanation()"
    >
        فكرة الموقع
    </div>
    
    <div class="explanation" id="siteIdeaExplanation">
        هذا الموقع مصمم لتسهيل عملية بيع المجموعات القديمة الخاصة بتليجرام. كل ما عليك هو إرسال رابط المجموعة في أول خانة، ثم تحديد وسيلة استلام الأموال الخاصة بك (سواء كانت فودافون كاش أو USDT)، ومن ثم وضع الوسيلة سواء كان رقم محفظة فودافون كاش أو اورنج كاش أو اتصالات كاش أو وي باي أو معرف حسابك في بينانس أو عنوان شبكة bep20 أو polygon مع التحديد. ويمكنك وضع معلومات عن المجموعة التي تريد بيعها مثل تاريخ الإنشاء أو عدد الرسائل القديمة بها. ثم اضغط على "إرسال"، سوف تصلني رسالتك وسوف أنضم إلى المجموعة عبر حسابي <a href="https://t.me/Vl_K0" target="_blank" style="color: #4dc5ff; font-weight: bold;">@Vl_K0</a>. والآن الخطوة الأخيرة: تقوم بنقل ملكية المجموعة إليّ وتقوم بإرسال رسالة بها محتواها "تم". وها قد انتهينا يا صديقي، تأكد من وصول الأموال إلى حسابك وأتمنى لك يوم سعيد 🖤.
    </div>
    
</div>

<div class="container">
<h1>شراء جروبات تيليجرام قديمة <span>Buy Old Telegram Groups</span></h1>

<form id="purchaseForm">
<label for="groupLink">رابط الجروب:</label>
<input type="text" id="groupLink" required placeholder="https://t.me/joinchat/...">
<label for="paymentMethod">وسيلة الدفع:</label>
<select id="paymentMethod">
<option value="Vodafone Cash">Vodafone Cash</option>
<option value="USDT">USDT</option>
<option value="Other">أخرى</option>
</select>
<label for="paymentDetail">تفاصيل الدفع:</label>
<input type="text" id="paymentDetail" placeholder="رقم المحفظة أو العنوان أو id binance" required>
<label for="notes">ملاحظات إضافية:</label>
<textarea id="notes" placeholder="مثلاً:عدد الرسائل، تاريخ الإنشاء..."></textarea>
<button type="submit">إرسال</button>
<div id="successMessage" class="success">✅ تم الإرسال بنجاح!</div>
<div id="errorMessage" class="error"></div>
</form>
</div>

<div class="contact-footer">
    للتواصل والإستفسار: 
    <a href="https://t.me/Vl_K0" target="_blank">
        <span class="telegram-icon"></span> @Vl_K0
    </a>
</div>

<script>
// --------------------
// JavaScript الخاص بالقائمة الجانبية (Sidebar Logic)
// --------------------

const sidebar = document.getElementById('sidebar');
const menuToggle = document.getElementById('menuToggle');
const explanation = document.getElementById('siteIdeaExplanation');

// 1. دالة فتح/إغلاق القائمة الجانبية بالكامل
menuToggle.addEventListener('click', () => {
    sidebar.classList.toggle('open');
});

// 2. دالة فتح/إغلاق نص الشرح (فكرة الموقع)
function toggleExplanation() {
    explanation.classList.toggle('show');
}


// --------------------
// JavaScript الخاص بالنموذج (Form Submission Logic)
// --------------------
document.getElementById('purchaseForm').addEventListener('submit', async(e)=>{
 e.preventDefault();
 const form = e.target;
 const submitButton = form.querySelector('button[type="submit"]');
 const successMessage = document.getElementById('successMessage');
 const errorMessage = document.getElementById('errorMessage');
 
 // 🔴 تصحيح مشكلة ظهور الرسالة الدائم: إعادة ضبطها قبل البدء
 successMessage.style.display = 'none'; 
 errorMessage.style.display = 'none';

 submitButton.disabled = true;
 submitButton.textContent = 'جاري الإرسال...';
 

 const data={
  groupLink:document.getElementById('groupLink').value.trim(),
  paymentMethod:document.getElementById('paymentMethod').value,
  paymentDetail:document.getElementById('paymentDetail').value.trim(),
  notes:document.getElementById('notes').value.trim()
 };
 
 try{
  const res = await fetch('/send',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify(data)
  });
  
  if(!res.ok){
      const errorData = await res.json();
      throw new Error(errorData.error || res.statusText);
  }
  
  // النجاح
  successMessage.style.display='block'; 
  form.reset();
  
 }catch(err){
    // الفشل
    errorMessage.textContent='❌ خطأ: '+err.message;
    errorMessage.style.display='block';
 } finally {
    submitButton.disabled = false;
    submitButton.textContent = 'إرسال';
 }
});
</script>
</body>
</html>
